# Exercise: Creating Relief Tracker Views

This exercise is a continuation of our relief tracker application.  You will create views that support specific application functionality.  

## What you will learn

- Creating a generic help function to add design documents
- Create views containing `map()` functions to query the database.
- Query the views using Futon.

## Review

To create a view, you must first create a design document which describes the `map` function to use.  Here's an example:

```
// document that tells PouchDB/CouchDB
// to build up an index on doc.name
var ddoc = {
  _id: '_design/viewByName',
  views: {
    viewByName: {
      map: function (doc) { emit(doc.name); }.toString()
    }
  }
};
```

The PouchDB `query()` API enables you to retrieve documents from the specified view:

```
db.query('viewByName') ...
```

## Instructions

### Creating a helper function
- Create a helper function named `createView()` within the **/DAL/noSQL.js** javascript file.  The function is responsible for adding a design document to the database.
- Within your function, make sure you have a valid document.  

### Creating Views

- Create the following views. Create some code to call your `createView()` function to add them to the database.  The views _should not_ `emit` the document.  
 <table>
    <tr>
      <th>design doc `_id` property value</th>
      <th>view name</th>
      <th>Notes</th>
    </tr>
    <tr>
      <td>`_design/emailView`</td>
      <td>emailView</td>
      <td>List and sort persons by email address.</td>
    </tr>  
    <tr>
      <td>`__design/lastNameView`</td>
      <td>lastNameView</td>
      <td>List and sort persons by last name.  Hint: Ensure each key value returned by this view is unique.</td>
    </tr>  
    <tr>
      <td>`_design/reliefEfforts`</td>
      <td>reliefEfforts</td>
      <td>List and sort relief efforts by relief effort name.</td>
    </tr>  
  </table>

- Using Futon, select each view to check the results.

[Home](/)  |  [Views](/views)  |  [Back](/views/1)  |  [Next](/views/3)
