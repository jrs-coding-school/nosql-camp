# Exercise: Retrieving Lists of Persons and Relief Efforts

## What you will learn

- Learn how to sort data.
- Learn how to support pagination.

## Instructions

In this exercise you will leverage the 3 views you just created to provide a sorted list of persons and relief efforts.  One function should manage providing a list of people while another function provides a list of relief efforts.

- Seed the database with additional people.  Be sure to add multiple people with the name last name such as Tom Jones, Steve Jones, Davey Jones, Chipper Jones, etc.

- Create a public function named `listPersons()` which enables the ability to paginate though a list of persons by either last name or email address.  

- Create a public function named `listReliefEfforts()` which enables the ability to paginate though a list of relief efforts by the relief effort name.

- Each function should contain the following parameters:
  - `sortBy` (Required) indicates how the list should be sorted.  
  - `limit` - (Required) Supports pagination by limiting the number of documents returned.  Example:  A value of `5` returns 5 documents per request.
  - `startKey` (Required) indicates the starting place for the documents returned. A value of `""` indicates that you would like to return documenting start at the beginning of the view results.

  Examples:

  ```
  function listPersons(sortBy, searchCriteria, limit, callback) {  ...  }
  function listReliefEfforts(sortBy, searchCriteria, limit, callback) {  ... }
  ```

  > Hint:  To successfully paginate, you must be able to uniquely identify each document returned.  


## Validate

Before you retrieve the document from the database, make sure you have a valid `id` parameter.

## Try it out

- To help test your queries, add more persons and relief efforts.
- Create some code to call your public functions to retrieve existing persons and relief efforts from the database.  `console.log` the data.





[Home](/)  |  [DAL](/DAL)  |  [Back](/DAL/6)  |   [Next](/DAL/8)
